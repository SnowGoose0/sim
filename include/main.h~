#include <ncurses.h>


#define MIN(x, y) ((x) < (y) ? (x) : (y))
#define MAX(x, y) ((x) > (y) ? (x) : (y))
#define ABS(x) ((x) < 0 ? -(x) : (x))
#define MOD(a, b) ((a % b) < 0 ? ((a % b) + b) : (a % b))

#define INSERT_MODE       0x00
#define COMMAND_MODE      0x01
#define OPERATION_INSERT  0x45
#define OPERATION_DELETE  0x90
#define MOVEMENT_FORWARD  0x40
#define MOVEMENT_BACKWARD 0x85
#define KEY_ESC           0x1B

typedef struct {
  WINDOW* t_window;
  WINDOW* c_window;

  int mode;
  int eof;
  int ch;

  int terminal_y;
  int terminal_x;
} screen;

screen* init_screen();
void kill();
void render_window(screen* scr);
void handle_commands_inputs(screen* scr, int ch);
void handle_text_inputs(screen* scr, int ch);
void handle_cursor_movement(screen* scr, int movement);
void handle_line_wrap(screen* scr, int operation);
void insert_ch(int ch);

